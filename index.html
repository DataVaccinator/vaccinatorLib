<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DataVaccinator Client: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="dvLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DataVaccinator Client
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DataVaccinator Client Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section copyright"><dt>Copyright</dt><dd>2022 Datavaccinator</dd></dl>
<h1><a class="anchor" id="dvintro"></a>
Introduction</h1>
<p>This is a <a class="el" href="group__glos.html#dvclient">DataVaccinator Client</a> library which is designed for native use on PC based computer systems running Linux/Unix or Microsoft Windows operating systems.</p>
<p><a class="el" href="group__glos.html#vacc">DataVaccinator</a> protects your sensitive data known as <a class="el" href="group__glos.html#pid">PID</a> against abuse. The service allows you to split out your <a class="el" href="group__glos.html#pid">PID</a> data at the very moment it is generated and uses advanced pseudonymisation techniques to replace it with a corresponding <a class="el" href="group__glos.html#vid">VID</a>.</p>
<p>Thus, <a class="el" href="group__glos.html#vacc">DataVaccinator</a> reduces cyber security risks in the health, industry, finance and any other sector and helps service providers, device manufacturers, data generating and data handling parties to manage sensitive data in a secure and GDPR-compliant manner. In contrast to other offerings, <a class="el" href="group__glos.html#vacc">DataVaccinator</a> industrialises pseudonymisation, thereby making pseudonymisation replicable and affordable.</p>
<p>The API of this library has two main parts to it: </p><ul>
<li>The <a class="el" href="group__dvgeneral.html">General API</a> contains global and lifecycle functions. </li>
<li>The general <a class="el" href="group__dvmain.html">Data API</a> contains most of the runtime functions. </li>
<li>The specialized <a class="el" href="group__dvpublish.html">Publishing API</a> relates to the part of sharing <a class="el" href="group__glos.html#pid">PID</a> data with other parties. </li>
<li>The <a class="el" href="group__dverrors.html">Error Codes</a> are for <a class="el" href="group__glos.html#dvclient">DataVaccinator Client</a> and the others are <a class="elRef" href="https://regify.github.io/regify-util/group__ruerror.html">regify-util Error Codes</a>.</li>
</ul>
<h2><a class="anchor" id="payload"></a>
Data Specification</h2>
<p>The general <a class="el" href="group__glos.html#vault">DataVaccinator Vault</a> data specification can be found here <a href="https://github.com/DataVaccinator/dv-vault/blob/master/docs/DataVaccinator-protocol.adoc#data">https://github.com/DataVaccinator/dv-vault/blob/master/docs/DataVaccinator-protocol.adoc#data</a> This section focuses on the implementation of the <b>payload</b> part. It is documented here to facilitate cross platform compatibility with other <a class="el" href="group__glos.html#dvclient">DataVaccinator Client</a> implementations. Our <b>payload</b> is authenticated <a href="https://en.wikipedia.org/wiki/Authenticated_encryption#MAC-then-Encrypt_(MtE)">https://en.wikipedia.org/wiki/Authenticated_encryption#MAC-then-Encrypt_(MtE)</a> style.</p>
<p>The following use of <b>bytes</b> in variables implies usage of actual bytes and not hex encoded representations thereof. Our <b>payload</b> is implemented in the following way:</p>
<p><b>cs</b> = last 2 bytes of the <a class="el" href="group__glos.html#appid">app-id</a> <br  />
<b>ivbytes</b> = randomBytes ( 16 ) <br  />
<b>ivhex</b> = hexencode ( <b>ivbytes</b> ) <br  />
<br  />
<b>sumbytes</b> = sha256 ( <a class="el" href="group__glos.html#pid">PID</a> ) <br  />
<b>bytes</b> = <a class="el" href="group__glos.html#pid">PID</a> + <a class="el" href="group__glos.html#pkcs7">PKCS#7 Padding</a> + <b>sumbytes</b> <br  />
<b>cipherbytes</b> = aes256cbc ( <b>ivbytes</b> , <b>bytes</b> ) <br  />
<b>payload</b> = base64 (<b>cipherbytes</b> ) <br  />
<br  />
<b>data</b> = "aes-256-cbc:" + <b>cs</b> + ":" + <b>ivhex</b> + ":b:" + <b>payload</b> </p>
<h2><a class="anchor" id="usage"></a>
Example Usage</h2>
<p>This usage example can also be found under examples/datause.c: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;vaccinator.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// The performance of this logger is inadequate for production usage.</span></div>
<div class="line"><span class="comment">// It is merely here to showcase the callback usage.</span></div>
<div class="line"><span class="keywordtype">void</span> myLogFunc (<span class="keywordtype">void</span> *user_data, <span class="keyword">const</span> <span class="keywordtype">char</span> *message) {</div>
<div class="line">    FILE *wh = <a class="codeRef" href="https://regify.github.io/regify-util/group__io.html#ga3716b147f53dd26c805547556b9608be">ruFOpen</a>((<span class="keyword">const</span> <span class="keywordtype">char</span>*) user_data, <span class="stringliteral">&quot;a&quot;</span>, NULL);</div>
<div class="line">    <span class="keywordflow">if</span> (wh) {</div>
<div class="line">        fwrite(message, strlen(message), <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), wh);</div>
<div class="line">        fclose(wh);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int32_t headerCb(<span class="keywordtype">void</span>* usrCtx, <a class="code" href="group__dvgeneral.html#ga04129067ed3fc1c71898b939fe4018c7">dvSetHeaderFn</a> setHeader, <span class="keywordtype">void</span>* headerCtx) {</div>
<div class="line">    <span class="comment">// This a static example that ignores the userCtx</span></div>
<div class="line">    <span class="keywordflow">return</span> setHeader(headerCtx, <span class="stringliteral">&quot;Cache-Control&quot;</span>, <span class="stringliteral">&quot;max-age=60&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int32_t postCb(<span class="keywordtype">void</span>* usrCtx, <a class="code" href="group__dvgeneral.html#ga005e918ec4bbf9cfc4ac5b34b2f80124">dvSetPostFn</a> setPostField, <span class="keywordtype">void</span>* postCtx) {</div>
<div class="line">    <span class="comment">// abort the request when usrCtx is not set as we need it here</span></div>
<div class="line">    <span class="keywordflow">if</span> (!usrCtx) <span class="keywordflow">return</span> <a class="codeRef" href="https://regify.github.io/regify-util/group__ruerror.html#ga616dba9a5dafed8351aa98c68fab25e2">RUE_PARAMETER_NOT_SET</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* user = <span class="stringliteral">&quot;testuser&quot;</span>;</div>
<div class="line">    int32_t ret = setPostField(postCtx, <span class="stringliteral">&quot;username&quot;</span>, (<span class="keywordtype">void</span>*)user, strlen(user));</div>
<div class="line">    <span class="comment">// abort the request on failure</span></div>
<div class="line">    <span class="keywordflow">if</span> (ret) <span class="keywordflow">return</span> ret;</div>
<div class="line">    <span class="comment">// usrCtx could be any kind of structure, we just showcase a string here.</span></div>
<div class="line">    <span class="keywordtype">char</span>* passwd = (<span class="keywordtype">char</span>*) usrCtx;</div>
<div class="line">    <span class="keywordflow">return</span> setPostField(postCtx, <span class="stringliteral">&quot;password&quot;</span>, (<span class="keywordtype">void</span>*)passwd, strlen(passwd));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main ( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv ) {</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <a class="codeRef" href="https://regify.github.io/regify-util/group__kvstore.html#ga9abc942c577335834b99c80262ed4c84">KvStore</a> *kvs = NULL;</div>
<div class="line">    <a class="code" href="group__dvgeneral.html#gae4d6bb2909a269a91d4d20f20c5ed050">dvCtx</a> dc = NULL;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *name = <span class="stringliteral">&quot;John Doe&quot;</span>, *address = <span class="stringliteral">&quot;Mystreet 42&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = <span class="stringliteral">&quot;mysecret&quot;</span>, *logfile = CACHE_DIR <span class="stringliteral">&quot;/debug.log&quot;</span>;</div>
<div class="line">    <span class="keywordtype">char</span> *namevid = NULL, *addrvid = NULL, *a1 = NULL;</div>
<div class="line">    <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gab25c1662a91a5e0d68a3f04efd1a0cc2">ruList</a> vids = NULL, indexTerms = NULL, searchTerms = NULL, foundVids = NULL;</div>
<div class="line">    <a class="codeRef" href="https://regify.github.io/regify-util/group__map.html#gaad879dbca17e7740cbab5651cafe677d">ruMap</a> data = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        <span class="comment">// local cache</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="codeRef" href="https://regify.github.io/regify-util/group__io.html#ga1d8e3aea6c159a286cb6c410b32893ca">ruIsDir</a>(CACHE_DIR)) {</div>
<div class="line">            ret = <a class="codeRef" href="https://regify.github.io/regify-util/group__io.html#gad899c45123b9d7a04f4b8475ac9bf78f">ruMkdir</a>(CACHE_DIR, 0755, <span class="keyword">false</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (!<a class="codeRef" href="https://regify.github.io/regify-util/group__io.html#ga1d8e3aea6c159a286cb6c410b32893ca">ruIsDir</a>(CACHE_DIR)) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;failed to create folder &#39;%s&#39; ec [%d]\n&quot;</span>, CACHE_DIR, ret);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        kvs = <a class="codeRef" href="https://regify.github.io/regify-util/group__kvstore.html#ga6ca53476182ed415e0b2093318c57b10">ruNewFileStore</a>(CACHE_DIR, &amp;ret);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (argc &gt; 1) {</div>
<div class="line">            a1 = argv[1];</div>
<div class="line">            <span class="comment">// -d turns on verbose debug logging</span></div>
<div class="line">            <span class="comment">// -v turns on verbose debug logging with curl debug logging</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="codeRef" href="https://regify.github.io/regify-util/group__string.html#ga6bfc96ae55637fdb4dcc9364f630f8fe">ruStrcmp</a>(a1, <span class="stringliteral">&quot;-v&quot;</span>) == 0 || <a class="codeRef" href="https://regify.github.io/regify-util/group__string.html#ga6bfc96ae55637fdb4dcc9364f630f8fe">ruStrcmp</a>(a1, <span class="stringliteral">&quot;-d&quot;</span>) == 0) {</div>
<div class="line">                <span class="comment">// this logger is preferred over ruSetLogger</span></div>
<div class="line">                <span class="comment">// because it sanitizes sensitive information out</span></div>
<div class="line">                <a class="code" href="group__dvgeneral.html#gad77377de34ba943ab4313b50ec565ef3">dvSetCleanLogger</a>(myLogFunc, <a class="codeRef" href="https://regify.github.io/regify-util/group__logging.html#gaa48441dca350811c725a8096ccbd59f8">RU_LOG_VERB</a>, (<span class="keywordtype">void</span>*)logfile);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                a1 = NULL;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// setup</span></div>
<div class="line">        ret = <a class="code" href="group__dvgeneral.html#gaa569238d6383532ab3e56ff82195457a">dvNew</a>(&amp;dc, PROVIDER_URL, APPID, kvs);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="comment">// check for easy SSL mode</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="codeRef" href="https://regify.github.io/regify-util/group__string.html#ga6bfc96ae55637fdb4dcc9364f630f8fe">ruStrcmp</a>(<span class="stringliteral">&quot;1&quot;</span>, <a class="codeRef" href="https://regify.github.io/regify-util/group__misc.html#gab2d871fd2739c23e069b20057b198248">ruGetenv</a>(<span class="stringliteral">&quot;EASYSSL&quot;</span>)) == 0) {</div>
<div class="line">            <span class="comment">// disable certificate checks</span></div>
<div class="line">            ret = <a class="code" href="group__dvgeneral.html#ga7088569c7029864b3cb1bcc0ae3b46cf">dvSetProp</a>(dc, <a class="code" href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fadefbba382d201f196697b44487f8932c">DV_SKIP_CERT_CHECK</a>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="codeRef" href="https://regify.github.io/regify-util/group__string.html#ga6bfc96ae55637fdb4dcc9364f630f8fe">ruStrcmp</a>(a1, <span class="stringliteral">&quot;-v&quot;</span>) == 0) {</div>
<div class="line">            <span class="comment">// turn on curl debug logging</span></div>
<div class="line">            ret = <a class="code" href="group__dvgeneral.html#ga7088569c7029864b3cb1bcc0ae3b46cf">dvSetProp</a>(dc, <a class="code" href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fa711b015868f7ab71a58e8444ceade44c">DV_CURL_LOGGING</a>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// sample usage of the header callback</span></div>
<div class="line">        ret = <a class="code" href="group__dvgeneral.html#ga13fea75e53e6c0e9db771b2d36b8f1f4">dvSetHeaderCb</a>(dc, &amp;headerCb, NULL);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="comment">// Mask our password in the logs so it is replace by ^^^SECRET^^^</span></div>
<div class="line">        <span class="comment">// or whatever was set by DV_SECRET_PLACE_HOLDER last</span></div>
<div class="line">        <span class="comment">// APPID has already been masked by dvNew</span></div>
<div class="line">        ret = <a class="code" href="group__dvgeneral.html#ga7088569c7029864b3cb1bcc0ae3b46cf">dvSetProp</a>(dc, <a class="code" href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fa65628afe51aae3be847e9a5f69342269">DV_SECRET</a>, passwd);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="comment">// sample usage of the post fields callback</span></div>
<div class="line">        ret = <a class="code" href="group__dvgeneral.html#gaaa640880e6e7f700af67988f96eeff3f">dvSetPostCb</a>(dc, &amp;postCb, (<span class="keywordtype">void</span> *) passwd);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// add data</span></div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga2b0d4185bf183f6352c59b8ac02161ac">dvAdd</a>(dc, name, NULL, &amp;namevid);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;namevid: %s\n&quot;</span>, namevid);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// add searchable data</span></div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga6dfc8b2ed6af09b22f2f116d1708497f">dvAddIndexWord</a>(&amp;indexTerms, APPID, address);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga2b0d4185bf183f6352c59b8ac02161ac">dvAdd</a>(dc, address, indexTerms, &amp;addrvid);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        printf(<span class="stringliteral">&quot;addrvid: %s\n&quot;</span>, addrvid);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// retrieve data</span></div>
<div class="line">        vids = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gaaa6b03bd2b243385bdd7326ebf4d9be4">ruListNew</a>(NULL);</div>
<div class="line">        ret = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga67286d2c5522bdb4428436c561f122e5">ruListAppend</a>(vids, namevid);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        ret = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga67286d2c5522bdb4428436c561f122e5">ruListAppend</a>(vids, addrvid);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga0ec9b624e6f09b04d055d48270ff0600">dvGet</a>(dc, vids, &amp;data);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga88f5af8c2f8986a0708a06c1d0bb2183">ruIterator</a> li = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gaa62b97357e6bb871a09fed6cd392e628">ruListIter</a>(vids);</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">char</span> *out, *vd = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga894fca3f8274753560dc915d6347b8b4">ruIterCurrent</a>(li, <span class="keywordtype">char</span>*); li;</div>
<div class="line">            vd = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gacb34c9de3d00243458bc91f9a76e2344">ruIterNext</a>(li, <span class="keywordtype">char</span>*)) {</div>
<div class="line">            ret = <a class="code" href="group__dvmain.html#ga4d4b918694b348de535c309e475eb95b">dvGetVid</a>(data, vd, &amp;out);</div>
<div class="line">            <span class="keywordflow">if</span> (ret == <a class="codeRef" href="https://regify.github.io/regify-util/group__ruerror.html#ga7e2f97cce8af8020834e685a2482556d">RUE_OK</a>) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;pid for vid: &#39;%s&#39; is: &#39;%s&#39;\n&quot;</span>, vd, out);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a class="codeRef" href="https://regify.github.io/regify-util/group__map.html#gabd78b2a8f568024c5808c7c1529d6c55">ruMapFree</a>(data);</div>
<div class="line">        data = NULL;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// search data</span></div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga4ae1ed35dc5b28013853e346b91140f3">dvAddSearchWord</a>(&amp;searchTerms, APPID, <span class="stringliteral">&quot;Mystreet&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#gadf8fd43e07b1a4f8c016980b5b2c7bfe">dvSearch</a>(dc, searchTerms, &amp;foundVids);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line">        li = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gaa62b97357e6bb871a09fed6cd392e628">ruListIter</a>(foundVids);</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">char</span>* vd = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga894fca3f8274753560dc915d6347b8b4">ruIterCurrent</a>(li, <span class="keywordtype">char</span>*); li; vd = <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#gacb34c9de3d00243458bc91f9a76e2344">ruIterNext</a>(li, <span class="keywordtype">char</span>*)) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;found vid: &#39;%s&#39;\n&quot;</span>, vd);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// wipe cache</span></div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#gaf6bbf55e624aa89a0bed30b794dd2758">dvWipe</a>(dc, vids);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// delete data</span></div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga9653a88c3d7386425171871e991ae994">dvDelete</a>(dc, vids);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        ret = <a class="code" href="group__dvmain.html#ga9653a88c3d7386425171871e991ae994">dvDelete</a>(dc, foundVids);</div>
<div class="line">        <span class="keywordflow">if</span> (ret) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    } <span class="keywordflow">while</span> (<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (namevid) free(namevid);</div>
<div class="line">    <span class="keywordflow">if</span> (addrvid) free(addrvid);</div>
<div class="line">    <span class="keywordflow">if</span> (vids) <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga0175927761511efe289173b07203ab9b">ruListFree</a>(vids);</div>
<div class="line">    <span class="keywordflow">if</span> (indexTerms) <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga0175927761511efe289173b07203ab9b">ruListFree</a>(indexTerms);</div>
<div class="line">    <span class="keywordflow">if</span> (searchTerms) <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga0175927761511efe289173b07203ab9b">ruListFree</a>(searchTerms);</div>
<div class="line">    <span class="keywordflow">if</span> (foundVids) <a class="codeRef" href="https://regify.github.io/regify-util/group__list.html#ga0175927761511efe289173b07203ab9b">ruListFree</a>(foundVids);</div>
<div class="line">    <span class="keywordflow">if</span> (data) <a class="codeRef" href="https://regify.github.io/regify-util/group__map.html#gabd78b2a8f568024c5808c7c1529d6c55">ruMapFree</a>(data);</div>
<div class="line">    <span class="keywordflow">if</span> (dc) <a class="code" href="group__dvgeneral.html#ga9d755a06f9460016c54ca265d25cf7b5">dvFree</a>(dc);</div>
<div class="line">    <span class="keywordflow">if</span> (kvs) <a class="codeRef" href="https://regify.github.io/regify-util/group__kvstore.html#ga7fe8e5566d73bb19a7de73edfa043f4a">ruFreeStore</a>(kvs);</div>
<div class="line">    <span class="keywordflow">if</span> (a1) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;You will find debug logging in &#39;%s&#39;\n&quot;</span>, logfile);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
</div><!-- fragment --></div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__dvmain_html_ga6dfc8b2ed6af09b22f2f116d1708497f"><div class="ttname"><a href="group__dvmain.html#ga6dfc8b2ed6af09b22f2f116d1708497f">dvAddIndexWord</a></div><div class="ttdeci">DVAPI int32_t dvAddIndexWord(ruList *indexWords, const char *appId, const char *word)</div></div>
<div class="ttc" id="agroup__list_html_gaa62b97357e6bb871a09fed6cd392e628"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#gaa62b97357e6bb871a09fed6cd392e628">ruListIter</a></div><div class="ttdeci">#define ruListIter(list)</div></div>
<div class="ttc" id="agroup__kvstore_html_ga6ca53476182ed415e0b2093318c57b10"><div class="ttname"><a href="https://regify.github.io/regify-util/group__kvstore.html#ga6ca53476182ed415e0b2093318c57b10">ruNewFileStore</a></div><div class="ttdeci">RUAPI KvStore * ruNewFileStore(const char *folderPath, int32_t *code)</div></div>
<div class="ttc" id="agroup__dvmain_html_ga4ae1ed35dc5b28013853e346b91140f3"><div class="ttname"><a href="group__dvmain.html#ga4ae1ed35dc5b28013853e346b91140f3">dvAddSearchWord</a></div><div class="ttdeci">DVAPI int32_t dvAddSearchWord(ruList *searchWords, const char *appId, const char *word)</div></div>
<div class="ttc" id="agroup__ruerror_html_ga7e2f97cce8af8020834e685a2482556d"><div class="ttname"><a href="https://regify.github.io/regify-util/group__ruerror.html#ga7e2f97cce8af8020834e685a2482556d">RUE_OK</a></div><div class="ttdeci">#define RUE_OK</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gga59d119d7c5cbaa850d9b7bd96792479fa65628afe51aae3be847e9a5f69342269"><div class="ttname"><a href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fa65628afe51aae3be847e9a5f69342269">DV_SECRET</a></div><div class="ttdeci">@ DV_SECRET</div><div class="ttdef"><b>Definition:</b> vaccinator.h:639</div></div>
<div class="ttc" id="agroup__list_html_ga88f5af8c2f8986a0708a06c1d0bb2183"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#ga88f5af8c2f8986a0708a06c1d0bb2183">ruIterator</a></div><div class="ttdeci">void * ruIterator</div></div>
<div class="ttc" id="agroup__string_html_ga6bfc96ae55637fdb4dcc9364f630f8fe"><div class="ttname"><a href="https://regify.github.io/regify-util/group__string.html#ga6bfc96ae55637fdb4dcc9364f630f8fe">ruStrcmp</a></div><div class="ttdeci">RUAPI int32_t ruStrcmp(const char *str1, const char *str2)</div></div>
<div class="ttc" id="agroup__list_html_gacb34c9de3d00243458bc91f9a76e2344"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#gacb34c9de3d00243458bc91f9a76e2344">ruIterNext</a></div><div class="ttdeci">#define ruIterNext(re, type)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gad77377de34ba943ab4313b50ec565ef3"><div class="ttname"><a href="group__dvgeneral.html#gad77377de34ba943ab4313b50ec565ef3">dvSetCleanLogger</a></div><div class="ttdeci">DVAPI void dvSetCleanLogger(ruLogFunc logger, u_int32_t logLevel, void *userData)</div><div class="ttdoc">Sets the global logging function for this process.</div></div>
<div class="ttc" id="agroup__list_html_gaaa6b03bd2b243385bdd7326ebf4d9be4"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#gaaa6b03bd2b243385bdd7326ebf4d9be4">ruListNew</a></div><div class="ttdeci">RUAPI ruList ruListNew(void(*destructor)(void *data))</div></div>
<div class="ttc" id="agroup__io_html_ga1d8e3aea6c159a286cb6c410b32893ca"><div class="ttname"><a href="https://regify.github.io/regify-util/group__io.html#ga1d8e3aea6c159a286cb6c410b32893ca">ruIsDir</a></div><div class="ttdeci">RUAPI bool ruIsDir(const char *filename)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_ga9d755a06f9460016c54ca265d25cf7b5"><div class="ttname"><a href="group__dvgeneral.html#ga9d755a06f9460016c54ca265d25cf7b5">dvFree</a></div><div class="ttdeci">DVAPI void dvFree(dvCtx dc)</div></div>
<div class="ttc" id="agroup__ruerror_html_ga616dba9a5dafed8351aa98c68fab25e2"><div class="ttname"><a href="https://regify.github.io/regify-util/group__ruerror.html#ga616dba9a5dafed8351aa98c68fab25e2">RUE_PARAMETER_NOT_SET</a></div><div class="ttdeci">#define RUE_PARAMETER_NOT_SET</div></div>
<div class="ttc" id="agroup__map_html_gabd78b2a8f568024c5808c7c1529d6c55"><div class="ttname"><a href="https://regify.github.io/regify-util/group__map.html#gabd78b2a8f568024c5808c7c1529d6c55">ruMapFree</a></div><div class="ttdeci">RUAPI void ruMapFree(ruMap rm)</div></div>
<div class="ttc" id="agroup__dvmain_html_gadf8fd43e07b1a4f8c016980b5b2c7bfe"><div class="ttname"><a href="group__dvmain.html#gadf8fd43e07b1a4f8c016980b5b2c7bfe">dvSearch</a></div><div class="ttdeci">DVAPI int32_t dvSearch(dvCtx dc, ruList searchWords, ruList *vids)</div></div>
<div class="ttc" id="agroup__list_html_ga67286d2c5522bdb4428436c561f122e5"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#ga67286d2c5522bdb4428436c561f122e5">ruListAppend</a></div><div class="ttdeci">#define ruListAppend(rl, data)</div></div>
<div class="ttc" id="agroup__list_html_ga894fca3f8274753560dc915d6347b8b4"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#ga894fca3f8274753560dc915d6347b8b4">ruIterCurrent</a></div><div class="ttdeci">#define ruIterCurrent(re, type)</div></div>
<div class="ttc" id="agroup__dvmain_html_ga9653a88c3d7386425171871e991ae994"><div class="ttname"><a href="group__dvmain.html#ga9653a88c3d7386425171871e991ae994">dvDelete</a></div><div class="ttdeci">DVAPI int32_t dvDelete(dvCtx dc, ruList vids)</div></div>
<div class="ttc" id="agroup__dvmain_html_gaf6bbf55e624aa89a0bed30b794dd2758"><div class="ttname"><a href="group__dvmain.html#gaf6bbf55e624aa89a0bed30b794dd2758">dvWipe</a></div><div class="ttdeci">DVAPI int32_t dvWipe(dvCtx dc, ruList vids)</div></div>
<div class="ttc" id="agroup__dvmain_html_ga0ec9b624e6f09b04d055d48270ff0600"><div class="ttname"><a href="group__dvmain.html#ga0ec9b624e6f09b04d055d48270ff0600">dvGet</a></div><div class="ttdeci">DVAPI int32_t dvGet(dvCtx dc, ruList vids, ruMap *vidMap)</div></div>
<div class="ttc" id="agroup__map_html_gaad879dbca17e7740cbab5651cafe677d"><div class="ttname"><a href="https://regify.github.io/regify-util/group__map.html#gaad879dbca17e7740cbab5651cafe677d">ruMap</a></div><div class="ttdeci">void * ruMap</div></div>
<div class="ttc" id="agroup__dvgeneral_html_ga005e918ec4bbf9cfc4ac5b34b2f80124"><div class="ttname"><a href="group__dvgeneral.html#ga005e918ec4bbf9cfc4ac5b34b2f80124">dvSetPostFn</a></div><div class="ttdeci">int32_t(* dvSetPostFn)(void *ctx, const char *name, void *buf, size_t len)</div><div class="ttdef"><b>Definition:</b> vaccinator.h:532</div></div>
<div class="ttc" id="agroup__kvstore_html_ga7fe8e5566d73bb19a7de73edfa043f4a"><div class="ttname"><a href="https://regify.github.io/regify-util/group__kvstore.html#ga7fe8e5566d73bb19a7de73edfa043f4a">ruFreeStore</a></div><div class="ttdeci">RUAPI void ruFreeStore(void *obj)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_ga13fea75e53e6c0e9db771b2d36b8f1f4"><div class="ttname"><a href="group__dvgeneral.html#ga13fea75e53e6c0e9db771b2d36b8f1f4">dvSetHeaderCb</a></div><div class="ttdeci">DVAPI int32_t dvSetHeaderCb(dvCtx dc, dvHeaderCb callback, void *cbCtx)</div></div>
<div class="ttc" id="agroup__list_html_gab25c1662a91a5e0d68a3f04efd1a0cc2"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#gab25c1662a91a5e0d68a3f04efd1a0cc2">ruList</a></div><div class="ttdeci">void * ruList</div></div>
<div class="ttc" id="agroup__io_html_ga3716b147f53dd26c805547556b9608be"><div class="ttname"><a href="https://regify.github.io/regify-util/group__io.html#ga3716b147f53dd26c805547556b9608be">ruFOpen</a></div><div class="ttdeci">RUAPI FILE * ruFOpen(const char *filepath, const char *mode, int32_t *code)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gaa569238d6383532ab3e56ff82195457a"><div class="ttname"><a href="group__dvgeneral.html#gaa569238d6383532ab3e56ff82195457a">dvNew</a></div><div class="ttdeci">DVAPI int32_t dvNew(dvCtx *dc, const char *serviceUrl, const char *appId, KvStore *cache)</div></div>
<div class="ttc" id="agroup__list_html_ga0175927761511efe289173b07203ab9b"><div class="ttname"><a href="https://regify.github.io/regify-util/group__list.html#ga0175927761511efe289173b07203ab9b">ruListFree</a></div><div class="ttdeci">RUAPI void ruListFree(ruList rl)</div></div>
<div class="ttc" id="agroup__misc_html_gab2d871fd2739c23e069b20057b198248"><div class="ttname"><a href="https://regify.github.io/regify-util/group__misc.html#gab2d871fd2739c23e069b20057b198248">ruGetenv</a></div><div class="ttdeci">const RUAPI char * ruGetenv(const char *variable)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_ga04129067ed3fc1c71898b939fe4018c7"><div class="ttname"><a href="group__dvgeneral.html#ga04129067ed3fc1c71898b939fe4018c7">dvSetHeaderFn</a></div><div class="ttdeci">int32_t(* dvSetHeaderFn)(void *ctx, const char *name, const char *value)</div><div class="ttdef"><b>Definition:</b> vaccinator.h:482</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gae4d6bb2909a269a91d4d20f20c5ed050"><div class="ttname"><a href="group__dvgeneral.html#gae4d6bb2909a269a91d4d20f20c5ed050">dvCtx</a></div><div class="ttdeci">void * dvCtx</div><div class="ttdef"><b>Definition:</b> vaccinator.h:167</div></div>
<div class="ttc" id="agroup__kvstore_html_ga9abc942c577335834b99c80262ed4c84"><div class="ttname"><a href="https://regify.github.io/regify-util/group__kvstore.html#ga9abc942c577335834b99c80262ed4c84">KvStore</a></div><div class="ttdeci">struct KvStore_ KvStore</div></div>
<div class="ttc" id="agroup__logging_html_gaa48441dca350811c725a8096ccbd59f8"><div class="ttname"><a href="https://regify.github.io/regify-util/group__logging.html#gaa48441dca350811c725a8096ccbd59f8">RU_LOG_VERB</a></div><div class="ttdeci">#define RU_LOG_VERB</div></div>
<div class="ttc" id="agroup__dvmain_html_ga2b0d4185bf183f6352c59b8ac02161ac"><div class="ttname"><a href="group__dvmain.html#ga2b0d4185bf183f6352c59b8ac02161ac">dvAdd</a></div><div class="ttdeci">DVAPI int32_t dvAdd(dvCtx dc, const char *data, ruList indexWords, char **vid)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gga59d119d7c5cbaa850d9b7bd96792479fa711b015868f7ab71a58e8444ceade44c"><div class="ttname"><a href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fa711b015868f7ab71a58e8444ceade44c">DV_CURL_LOGGING</a></div><div class="ttdeci">@ DV_CURL_LOGGING</div><div class="ttdef"><b>Definition:</b> vaccinator.h:657</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gaaa640880e6e7f700af67988f96eeff3f"><div class="ttname"><a href="group__dvgeneral.html#gaaa640880e6e7f700af67988f96eeff3f">dvSetPostCb</a></div><div class="ttdeci">DVAPI int32_t dvSetPostCb(dvCtx dc, dvPostCb callback, void *cbCtx)</div></div>
<div class="ttc" id="agroup__dvgeneral_html_ga7088569c7029864b3cb1bcc0ae3b46cf"><div class="ttname"><a href="group__dvgeneral.html#ga7088569c7029864b3cb1bcc0ae3b46cf">dvSetProp</a></div><div class="ttdeci">DVAPI int dvSetProp(dvCtx dc, enum dvCtxOpt opt, const char *value)</div><div class="ttdoc">Sets a DataVaccinator Client context dvCtxOpt option.</div></div>
<div class="ttc" id="agroup__dvgeneral_html_gga59d119d7c5cbaa850d9b7bd96792479fadefbba382d201f196697b44487f8932c"><div class="ttname"><a href="group__dvgeneral.html#gga59d119d7c5cbaa850d9b7bd96792479fadefbba382d201f196697b44487f8932c">DV_SKIP_CERT_CHECK</a></div><div class="ttdeci">@ DV_SKIP_CERT_CHECK</div><div class="ttdef"><b>Definition:</b> vaccinator.h:652</div></div>
<div class="ttc" id="agroup__dvmain_html_ga4d4b918694b348de535c309e475eb95b"><div class="ttname"><a href="group__dvmain.html#ga4d4b918694b348de535c309e475eb95b">dvGetVid</a></div><div class="ttdeci">DVAPI int32_t dvGetVid(ruMap vidMap, const char *vid, char **pid)</div></div>
<div class="ttc" id="agroup__io_html_gad899c45123b9d7a04f4b8475ac9bf78f"><div class="ttname"><a href="https://regify.github.io/regify-util/group__io.html#gad899c45123b9d7a04f4b8475ac9bf78f">ruMkdir</a></div><div class="ttdeci">RUAPI int ruMkdir(const char *pathname, int mode, bool deep)</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Sep 20 2022 12:48:27 for DataVaccinator Client by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
